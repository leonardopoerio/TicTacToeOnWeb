<!DOCTYPE html>
<!-- Made by Leonardo Poerio -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game - Tic Tac Toe on web</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <div id="gameBoard">
        <div class="row">
            <div class="gameCell" id="A1"></div>
            <div class="gameCell" id="B1"></div>
            <div class="gameCell" id="C1"></div>
        </div>
        <div class="row">
            <div class="gameCell" id="A2"></div>
            <div class="gameCell" id="B2"></div>
            <div class="gameCell" id="C2"></div>
        </div>
        <div class="row">
            <div class="gameCell" id="A3"></div>
            <div class="gameCell" id="B3"></div>
            <div class="gameCell" id="C3"></div>
        </div>
    </div>
    <div id="controlPanel">
        <h4>Control Panel</h4>
        <div class="buttonContainer">
            <a href="../home.html">
                <button id="backHome" accesskey="b" title="Back to home (Alt+c)">Back to home</button>
            </a>
            <button id="clearCells" accesskey="c" title="Clear cells (Alt+c)">Clear Cells</button>
        </div>
        <div id="console">
            <p id="consolePrint">Starting the match...</p>
        </div>
    </div>
    <script>
        function game() {
            var playerIndex = Math.floor((Math.random() * 2) + 0);
            var randomN = playerIndex;
            var counter = 0;
            var user = "";
            if (randomN == 1) {
                user = "X-USER";
            } else {
                user = "0-USER";
            }
            $("#consolePrint").html($("#consolePrint").html() + "<br>" + "The first round is of the " + user);
            $(".gameCell").click(function() {
                if (playerIndex == 1) {
                    if ($(this).attr("class") == "gameCell") {
                        $(this).addClass("x-selected");
                        $(this).addClass("selected");
                        $(".x-selected").css("background-image", "url('xplayer.svg')");
                        counter++;
                        playerIndex = 2;
                        $("#consolePrint").html($("#consolePrint").html() + "<br>" + "X-USER clicked on " + $(this).attr("id"));
                    }
                    //$(".o-selected").css("background-image", "url('oplayer.svg')");
                } else if (playerIndex == 2){
                    if ($(this).attr("class") == "gameCell") {
                        $(this).addClass("o-selected");
                        //$(".x-selected").css("background-image", "url('xplayer.svg')");
                        $(".o-selected").css("background-image", "url('oplayer.svg')");
                        counter++;
                        playerIndex = 1;
                        $("#consolePrint").html($("#consolePrint").html() + "<br>" + "0-USER clicked on " + $(this).attr("id"));
                    }
                }
            });
            if (counter == 6) {
                $(".gameCell").click(function () {
                    
                })
            }
        }
        game();
    </script>
    <script>
        $("#backHome").hover(function() {
            $("#backHome").animate({
                backgroundColor: "#fffff0"
            }, 200);
        }, function () {
            $("#backHome").animate({
                backgroundColor: "#047500"
            }, 200);
        });
        $("#clearCells").hover(function() {
            $("#clearCells").animate({
                backgroundColor: "#fffff0"
            }, 200);
        }, function () {
            $("#clearCells").animate({
                backgroundColor: "#c40000"
            }, 200);
        });
    </script>
    <script>
        $("#clearCells").click(function() {
            var playerIndex = Math.floor((Math.random() * 2) + 1);
            $(".gameCell").removeClass("x-selected");
            $(".gameCell").removeClass("o-selected");
            $(".gameCell").removeClass("selected");
            $(".gameCell").removeAttr("style");
            $("#consolePrint").html("Starting the match...");
            game();
        });
    </script>
    <script>
        var container = $('#console');
        var scrollTo = $('#consolePrint');
  
        // Calculating new position of scrollbar
        var position = scrollTo.offset().top 
                - container.offset().top 
                + container.scrollTop();
  
        // Setting the value of scrollbar
        container.scrollTop(position);
    </script>
</body>
</html>