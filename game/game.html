<!DOCTYPE html>
<!-- Made by Leonardo Poerio -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game - Tic Tac Toe on web</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <div id="resulter">
        <span id="resulterr"></span>
    </div>
    <div id="gameBoard">
        <div class="row">
            <div class="gameCell" id="A1"></div>
            <div class="gameCell" id="B1"></div>
            <div class="gameCell" id="C1"></div>
        </div>
        <div class="row">
            <div class="gameCell" id="A2"></div>
            <div class="gameCell" id="B2"></div>
            <div class="gameCell" id="C2"></div>
        </div>
        <div class="row">
            <div class="gameCell" id="A3"></div>
            <div class="gameCell" id="B3"></div>
            <div class="gameCell" id="C3"></div>
        </div>
    </div>
    <div id="controlPanel">
        <h4>Control Panel</h4>
        <div class="buttonContainer">
            <a href="../home.html">
                <button id="backHome" accesskey="b" title="Back to home (Alt+c)">Back to home</button>
            </a>
            <button id="clearCells" accesskey="c" title="Clear cells (Alt+c)">Clear Cells</button>
        </div>
        <div id="console">
            <p id="consolePrint">Starting the match...</p>
        </div>
    </div>
    <script>
        var count = 1;
        var ccount = 2;
        var cccount = 3;
        var user = "";
        var playerIndex = Math.floor((Math.random() * 2) + 1);
        var randomN = playerIndex;
        if (randomN == 2) {
            user = "0-USER"
            $("#consolePrint").append("<br>The first turn is of " + user);
        } else {
            user = "X-USER"
            $("#consolePrint").append("<br>The first turn is of " + user);
        }
        function game() {
            var counter = 0;
            $(".gameCell").click(function () {
                if (playerIndex == 1) {
                    if ($(this).attr("class") == "gameCell") {
                        $(this).addClass("x-selected");
                        $(".x-selected").css("background-image", "url('xplayer.svg')");
                        counter++;
                        playerIndex = 2;
                        $("#consolePrint").html($("#consolePrint").html() + "<br>" + "X-USER clicked on " + $(this).attr("id") + "<br>" + "Now is the turn of 0-USER");
                    }
                    
                }
                if (playerIndex == 2){
                    if ($(this).attr("class") == "gameCell") {
                        $(this).addClass("o-selected");
                        //$(".x-selected").css("background-image", "url('xplayer.svg')");
                        $(".o-selected").css("background-image", "url('oplayer.svg')");
                        counter++;
                        playerIndex = 1;
                        $("#consolePrint").html($("#consolePrint").html() + "<br>" + "0-USER clicked on " + $(this).attr("id") + "<br>" + "Now is the turn of X-USER");
                    }
                }
                
                if (counter != 0) {
                    if ($("#A" + count).attr("class") == "gameCell x-selected" && $("#B" + count).attr("class") == "gameCell x-selected" && $("#C" + count).attr("class") == "gameCell x-selected") {
                    $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + count).attr("class") == "gameCell x-selected" && $("#A" + ccount).attr("class") == "gameCell x-selected" && $("#A" + cccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + ccount).attr("class") == "gameCell x-selected" && $("#B" + ccount).attr("class") == "gameCell x-selected" && $("#C" + ccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#B" + count).attr("class") == "gameCell x-selected" && $("#B" + ccount).attr("class") == "gameCell x-selected" && $("#B" + cccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + cccount).attr("class") == "gameCell x-selected" && $("#B" + cccount).attr("class") == "gameCell x-selected" && $("#C" + cccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#C" + count).attr("class") == "gameCell x-selected" && $("#C" + ccount).attr("class") == "gameCell x-selected" && $("#C" + cccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + count).attr("class") == "gameCell x-selected" && $("#B" + ccount).attr("class") == "gameCell x-selected" && $("#C" + cccount).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + cccount).attr("class") == "gameCell x-selected" && $("#B" + ccount).attr("class") == "gameCell x-selected" && $("#C" + count).attr("class") == "gameCell x-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("X-USER winned!!!");
                    } else if ($("#A" + count).attr("class") == "gameCell o-selected" && $("#B" + count).attr("class") == "gameCell o-selected" && $("#C" + count).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#A" + count).attr("class") == "gameCell o-selected" && $("#A" + ccount).attr("class") == "gameCell o-selected" && $("#A" + cccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#A" + ccount).attr("class") == "gameCell o-selected" && $("#B" + ccount).attr("class") == "gameCell o-selected" && $("#C" + ccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#B" + count).attr("class") == "gameCell o-selected" && $("#B" + ccount).attr("class") == "gameCell o-selected" && $("#B" + cccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#A" + cccount).attr("class") == "gameCell o-selected" && $("#B" + cccount).attr("class") == "gameCell o-selected" && $("#C" + cccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#C" + count).attr("class") == "gameCell o-selected" && $("#C" + ccount).attr("class") == "gameCell o-selected" && $("#C" + cccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#A" + count).attr("class") == "gameCell o-selected" && $("#B" + ccount).attr("class") == "gameCell o-selected" && $("#C" + cccount).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if ($("#A" + cccount).attr("class") == "gameCell o-selected" && $("#B" + ccount).attr("class") == "gameCell o-selected" && $("#C" + count).attr("class") == "gameCell o-selected") {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("0-USER winned!!!");
                    } else if (counter == 9) {
                        $("#resulter").animate({
                        bottom: 0
                    }, 1000);
                        $("#resulterr").html("Nobody winned");
                    }
                }
            });
        }
        game();
        
    </script>
    <script>
        $("#backHome").hover(function() {
            $("#backHome").animate({
                backgroundColor: "#fffff0"
            }, 200);
        }, function () {
            $("#backHome").animate({
                backgroundColor: "#047500"
            }, 200);
        });
        $("#clearCells").hover(function() {
            $("#clearCells").animate({
                backgroundColor: "#fffff0"
            }, 200);
        }, function () {
            $("#clearCells").animate({
                backgroundColor: "#c40000"
            }, 200);
        });
    </script>
    <script>
        $("#clearCells").click(function() {
            $(".gameCell").removeClass("x-selected");
            $(".gameCell").removeClass("o-selected");
            $(".gameCell").removeAttr("style");
            $("#consolePrint").html("Starting the match...");
            counter = 0;
            user = "";
            playerIndex = Math.floor((Math.random() * 2));
            randomN = playerIndex;
            if (randomN == 0) {
                user = "0-USER"
                $("#consolePrint").append("<br>The first turn is of " + user);
            } else {
                user = "X-USER"
                $("#consolePrint").append("<br>The first turn is of " + user);
            }
            game();
        });
    </script>
    <script>
        var container = $('#console');
        var scrollTo = $('#consolePrint');
  
        // Calculating new position of scrollbar
        var position = scrollTo.offset().top 
                - container.offset().top 
                + container.scrollTop();
  
        // Setting the value of scrollbar
        container.scrollTop(position);
    </script>
</body>
</html>